{
  "db_name": "PostgreSQL",
  "query": "INSERT INTO task(\n                task_id,\n                queue_name,\n                status,\n                parent_task_id,\n                idempotency_key,\n                project_id,\n                schedule,\n                version)\n        VALUES ($1, $2, 'active', $3, $4, $5, $6, $7)\n        ON CONFLICT ON CONSTRAINT unique_idempotency_key DO UPDATE\n        SET\n            status = 'active'\n        WHERE task.status in ('done', 'cancelled')\n        AND NOT EXISTS (SELECT 1\n            FROM task_instance ti\n            WHERE task_id = task.task_id\n            AND ti.status in ('running', 'done', 'failed'))\n        RETURNING task_id",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "task_id",
        "type_info": "Uuid"
      }
    ],
    "parameters": {
      "Left": [
        "Uuid",
        "Text",
        "Uuid",
        "Uuid",
        "Uuid",
        "Text",
        "Int4"
      ]
    },
    "nullable": [
      false
    ]
  },
  "hash": "c09f139df6150448b19537891f9989dd7b902bece7744d6d84c360662826d261"
}
